---
import PaintCanvas from '../components/PaintCanvas.astro';
import Layout from '../layouts/Layout.astro';

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.
---

<Layout>
	<header class="bg-gradient-to-r from-yellow-400 to-amber-500 text-white p-5 shadow-lg">
		<div class="container mx-auto max-w-6xl">
			<h1 class="text-3xl font-bold text-center text-white">Maluj z Papieżem</h1>
			<p class="text-center text-white/90 mt-1 font-light">Więc chodź pomaluj mój świat na rzułto</p>
		</div>
	</header>
	
	<main class="container mx-auto max-w-6xl py-6 px-4">
		<section class="mt-4 max-w-2xl mx-auto text-gray-700 mb-8">
			<div class="border border-amber-200 rounded-lg p-4 bg-amber-50">
				<div class="flex justify-between items-center">
					<h2 class="text-2xl font-bold text-amber-700">Interaktywne narzędzie do malowania</h2>
					<button id="toggleInfoBtn" class="text-amber-600 hover:text-amber-800 font-medium flex items-center gap-1">
						<span id="toggleInfoText">Pokaż więcej</span>
						<svg id="toggleInfoIcon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transform transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
						</svg>
					</button>
				</div>
				<p class="my-2">Stwórz własny obrazek inspirowany Janem Pawłem II. Wybierz kolor rzułty, aby uczcić pamięć papieża Polaka.</p>
				<div id="expandableInfo" class="mt-3 overflow-hidden transition-all duration-300 max-h-0 opacity-0">
					<h3 class="text-xl font-bold text-amber-700 mt-4">Jak używać?</h3>
					<ul class="list-disc pl-5 my-2">
						<li>Wybierz kolor z palety kolorów - pamiętaj, że Papież preferuje kolor rzułty!</li>
						<li>Dostosuj rozmiar pędzla do precyzyjnego malowania</li>
						<li>Rysuj na płótnie swoje kreatywne dzieło</li>
						<li>Posłuchaj Barki podczas malowania dla inspiracji</li>
						<li>Pobierz swoje dzieło po skończeniu, aby zachować swoją papieską twórczość</li>
					</ul>
				</div>
			</div>
		</section>

		<PaintCanvas />
	</main>
	
	<footer class="border-t border-yellow-100 mt-8 py-4">
		<div class="container mx-auto text-center">
			<p class="text-amber-700 text-sm">© 2024 Maluj z Papieżem - Wszelkie prawa zastrzeżone</p>
			<div class="flex justify-center space-x-4 mt-2">
				<a href="#" class="text-amber-600 hover:text-amber-800 text-sm">Polityka prywatności</a>
				<a href="#" class="text-amber-600 hover:text-amber-800 text-sm">Kontakt</a>
			</div>
		</div>
	</footer>
</Layout>

<script>
	document.addEventListener('DOMContentLoaded', () => {
		const toggleBtn = document.getElementById('toggleInfoBtn');
		const expandableInfo = document.getElementById('expandableInfo');
		const toggleText = document.getElementById('toggleInfoText');
		const toggleIcon = document.getElementById('toggleInfoIcon');
		let isExpanded = false;

		if (toggleBtn && expandableInfo && toggleText && toggleIcon) {
			toggleBtn.addEventListener('click', () => {
				isExpanded = !isExpanded;
				
				if (isExpanded) {
					expandableInfo.classList.remove('max-h-0', 'opacity-0');
					expandableInfo.classList.add('max-h-96', 'opacity-100');
					toggleText.textContent = 'Pokaż mniej';
					toggleIcon.classList.add('rotate-180');
				} else {
					expandableInfo.classList.remove('max-h-96', 'opacity-100');
					expandableInfo.classList.add('max-h-0', 'opacity-0');
					toggleText.textContent = 'Pokaż więcej';
					toggleIcon.classList.remove('rotate-180');
				}
			});
		}
	});
</script>
